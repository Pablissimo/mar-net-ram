<html>
<style>
#cam{
  background-color: red;
  width: 300px;
  height: 150px;
}
</style>
<script>

function init()  
{
//  if (typeof AutoScan === 'undefined')
//  {
    //window.AutoScan={
//	ativaCamera: function()
	//{
//	  alert('ativou camera');
//	},
//	desativaCamera: function()
//	{
	  //alert('desativou camera');
//	},
//	posicionaCamera: function(left,top,width,height)
//	{
//	}
//	};
//  }
  var msg=document.getElementById('msg');
  var cam=document.getElementById('cam');
  var count=0;
  msg.innerHTML='Init - ok';
  document.getElementById('op1').onclick=function()
  {
      count++;
      msg.innerHTML='Opcao 1 - ok - '+count;
  };
  
   document.getElementById('somar').onclick=function()
  {
      count++;
	  var ret=Calculadora.somar(1,3);
      msg.innerHTML='Opcao somar - '+ret+' - '+count;
  };

  window.AutoScan_onerror=function(msg)
  {
      count++;
      msg.innerHTML='ERRO do autoscan - '+msg;
  };
  
  window.AutoScan_onCameraPreview=function()
  {
      count++;
      msg.innerHTML='ERRO do autoscan - '+msg;
	  var x=cam.offsetLeft*window.devicePixelRatio;
	  var y=cam.offsetTop*window.devicePixelRatio;
	  var w=cam.offsetWidth*window.devicePixelRatio;
	  var h=cam.offsetHeight*window.devicePixelRatio;
 	  AutoScan.posicionaCamera(x,y,w,h);
  };
  
  document.getElementById('ativaCamera').onclick=function()
  {
      count++;
	  AutoScan.ativaCamera();
      msg.innerHTML='Opcao abrir camera - '+count;
  };
  
  document.getElementById('desativaCamera').onclick=function()
  {
      count++;	 
	  AutoScan.desativaCamera();
      msg.innerHTML='Opcao desativa camera - '+count;
  };
}

</script>
<body onload="init()">
<div id="msg">-</div>
<button id="op1"> Opcao 1 </button>
<button id="somar"> somar </button><br>
<button id="ativaCamera"> ativa camera </button>
<button id="desativaCamera"> desativa camera </button><br>
<input type="text" name="text" size="20">
<div id="cam"></div>
</body>
</html>
